{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function getGallery(images) {\n  return images.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `\n        <div class=\"gallery-item\">\n             <a href=\"${largeImageURL}\" class=\"gallery-link\">\n              <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n            <div class=\"gallery-text-container\">\n            <p class=\"gallery-text\"><b>Likes </b>${likes}</p>\n            <p class=\"gallery-text\"><b>Views </b>${views}</p>\n            <p class=\"gallery-text\"><b>Comments </b>${comments}</p>\n            <p class=\"gallery-text\"><b>Downloads </b>${downloads}</p>\n            </div>\n      </div>\n      \n      `\n    )\n    .join('');\n}\n","import axios from 'axios';\nimport { getGallery } from './render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { showLoader } from '../main';\nimport { hideLoader } from '../main';\nimport { inputValue } from '../main';\nimport { gallery } from '../main';\nimport { perPage } from '../main';\n// import { loadBtn } from '../main';\n\nconst key = '23547596-77757707a75e05ac426ee1dd8';\nconst baseURL = 'https://pixabay.com/api/';\nconst loadBtn = document.querySelector('.load');\nlet lightbox;\nlet page = 1;\n\nexport async function getImages(query, page, perPage = 15) {\n  const searchParams = new URLSearchParams({\n    key: key,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: perPage,\n    page: page,\n  }).toString();\n\n  const url = `${baseURL}?${searchParams}`;\n  return (await axios.get(url)).data;\n}\n\nloadBtn.addEventListener('click', loadHandler);\nexport function loadHandler(event) {\n  event.preventDefault();\n  page += 1;\n  getImages(inputValue, page, perPage)\n    .then(images => {\n      showLoader();\n      if (images.total !== 0) {\n        hideLoader();\n        gallery.insertAdjacentHTML('beforeend', getGallery(images));\n        lightbox = new SimpleLightbox('.gallery a', {});\n        lightbox.refresh();\n      }\n    })\n    .catch(err => console.log(err));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImages } from './js/pixabay-api';\nimport { getGallery } from './js/render-functions';\n\nconst formInput = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst bottomLoader = document.querySelector('.bottom');\nconst loadBtn = document.querySelector('.load');\nlet lightbox;\nexport const gallery = document.querySelector('.gallery');\nexport let inputValue = '';\nexport let perPage = 15;\nexport let page = 1;\n\nformInput.addEventListener('submit', submitHandler);\nexport function submitHandler(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  inputValue = form.elements.text.value.toLowerCase();\n  page = 1;\n  if (inputValue === '') {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: 'black',\n      color: 'red',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  getImages(inputValue, page, perPage)\n    .then(images => {\n      showLoader();\n      if (images.total !== 0) {\n        hideLoader();\n        gallery.innerHTML = '';\n        gallery.insertAdjacentHTML('beforeend', getGallery(images));\n        lightbox = new SimpleLightbox('.gallery a', {});\n        lightbox.refresh();\n        loadBtn.style.visibility = 'visible';\n      } else {\n        hideLoader();\n        gallery.innerHTML = '';\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: 'black',\n          color: 'red',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(err => console.log(err))\n    .finally(() => formInput.reset());\n}\n\nexport function showLoader() {\n  loader.style.visibility = 'visible';\n  bottomLoader.style.visibility = 'visible';\n}\n\nexport function hideLoader() {\n  loader.style.visibility = 'hidden';\n  bottomLoader.style.visibility = 'hidden';\n}\n"],"names":["getGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","key","baseURL","loadBtn","lightbox","page","getImages","query","perPage","searchParams","url","axios","loadHandler","event","inputValue","showLoader","hideLoader","gallery","SimpleLightbox","err","formInput","loader","bottomLoader","submitHandler","iziToast"],"mappings":"owBAAO,SAASA,EAAWC,EAAQ,CACjC,OAAOA,EAAO,KACX,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,wBAEgBL,CAAa;AAAA,sCACCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mDAGbC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA;AAAA,OAK3D,EACA,KAAK,EAAE,CACZ,CCjBA,MAAMC,EAAM,qCACNC,EAAU,2BACVC,EAAU,SAAS,cAAc,OAAO,EAC9C,IAAIC,EACAC,EAAO,EAEJ,eAAeC,EAAUC,EAAOF,EAAMG,EAAU,GAAI,CACzD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKR,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAUC,EACV,KAAMH,CACV,CAAG,EAAE,SAAQ,EAELK,EAAM,GAAGR,CAAO,IAAIO,CAAY,GACtC,OAAQ,MAAME,EAAM,IAAID,CAAG,GAAG,IAChC,CAEAP,EAAQ,iBAAiB,QAASS,CAAW,EACtC,SAASA,EAAYC,EAAO,CACjCA,EAAM,eAAc,EACpBR,GAAQ,EACRC,EAAUQ,EAAYT,EAAMG,CAAO,EAChC,KAAKf,GAAU,CACdsB,IACItB,EAAO,QAAU,IACnBuB,IACAC,EAAQ,mBAAmB,YAAazB,EAAWC,CAAM,CAAC,EAC1DW,EAAW,IAAIc,EAAe,aAAc,CAAE,CAAA,EAC9Cd,EAAS,QAAO,EAExB,CAAK,EACA,MAAMe,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CCxCA,MAAMC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,SAAS,EAC/CnB,EAAU,SAAS,cAAc,OAAO,EAC9C,IAAIC,EACG,MAAMa,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIH,EAAa,GACbN,EAAU,GACVH,EAAO,EAElBe,EAAU,iBAAiB,SAAUG,CAAa,EAC3C,SAASA,EAAcV,EAAO,CAKnC,GAJAA,EAAM,eAAc,EAEpBC,EADaD,EAAM,cACD,SAAS,KAAK,MAAM,YAAW,EACjDR,EAAO,EACHS,IAAe,GAAI,CACrBU,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,MAAO,MACP,SAAU,UAChB,CAAK,EACD,MACD,CAEDlB,EAAUQ,EAAYT,EAAMG,CAAO,EAChC,KAAKf,GAAU,CACdsB,IACItB,EAAO,QAAU,GACnBuB,IACAC,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,YAAazB,EAAWC,CAAM,CAAC,EAC1DW,EAAW,IAAIc,EAAe,aAAc,CAAE,CAAA,EAC9Cd,EAAS,QAAO,EAChBD,EAAQ,MAAM,WAAa,YAE3Ba,IACAC,EAAQ,UAAY,GACpBO,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,MAAO,MACP,SAAU,UACpB,CAAS,EAET,CAAK,EACA,MAAML,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMC,EAAU,MAAK,CAAE,CACpC,CAEO,SAASL,GAAa,CAC3BM,EAAO,MAAM,WAAa,UAC1BC,EAAa,MAAM,WAAa,SAClC,CAEO,SAASN,GAAa,CAC3BK,EAAO,MAAM,WAAa,SAC1BC,EAAa,MAAM,WAAa,QAClC"}